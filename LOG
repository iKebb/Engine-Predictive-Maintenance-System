=======================<>=======================

SPANISH LOG

Problemas encontrados:
- Dataset sin header. Se tuvo que cargar el dataset e imputar manualmente los headers.
- Problemas para entender los datos: 
  - Datos sin columnas bien definidas; se dice a qué pertenece mas no a qué tipo de dato es (grados, inclinación, etc.).
  - RUL (Remaining Useful Life) difiere en valores por cada unidad. Es difícil establecer un valor para predecir.
- Problemas al entenar con el dataset: 
  - Al utilizar todas las columnas, el modelo interpreta max_cycle - cycle y predice el 100% de los datos. Solución: no usar max_cycle en el modelo.


Trabajando en FD001:

He realizado 3 cambios en el dataset original (el dataset vino completamente limpio):

1. Añadí manualmente el nombre de las columnas (
  unit, cycle, op_setting (1, 2, 3), sensor_measure(1, 2, 3..., 21)
)
2. Añadí dos columnas nuevas: (max_cycle, RUL)
3. Guardé el nuevo dataset en un csv.
4. RFR y XGBR funcionan de p-ta madre sin tratar outliers; sacando los features problemáticos 
  tengo casi un 100% de predicción SOLO en los datos de entrenamiento. Al validar, esta predicción 
  baja problemáticamente hasta un 78%, lo cual es bastante bajo.

Teoría del PDF:

```markdown
Los 21 sensores provienen de una simulación de un motor tipo turbojet comercial con  ~90,000 lbf de empuje, usando el simulador C-MAPSS de la NASA. Está diseñado para reflejar mediciones reales de motores y su evolución con el tiempo, captando el daño progresivo —modelado como una pérdida exponencial de **flujo** y **eficiencia** en el compresor de alta presión (HPC), que es el único modulo degradado en el dataset FD001.

Los sensores se agrupan por funciones:

- **Temperaturas totales (T)**: miden energía térmica. `T2`, `T24`, `T30` y `T50` están la temperatura de gases de escape `(EGT)`. De entre ellos, `T30` y `T50` (corresponden a los sensores 3 y 4) nos dan las señales más claras sensibles al daño de la degradación del `HPC` —el motor necesita más combustible para mantener el poder del empuje, lo que eleva las temperaturas aguas abajo (SEA LEVEL).

- **Presiones (P)**: `P2`, `P15`, `P30`, `Ps30` son todos medidores de presión, pero destacamos entre estos `P30` y `Ps30`, siendo `P30` (correspondiente al sensor 7) la presión *TOTAL A LA SALIDA Del* `HPC` y `Ps30` (correspondiente al sensor 11), nuestro medidor de presión más importante. que corresponde a la presión *ESTÁTICA* en la misma ubicación.

- **Relaciones adimensionales (enviroment)**: `epr` es nuestro radio de presión por motor. Este disminuye muy suavemente con el daño al igual que el `BPR` (Bypass Ratio). Aquí nos interesan `farB` (relación combustible-aire en el quemado) y `phi` (flujo de combustible / Ps30), quienes aumentan dado que al uso se requiere una inyección de más combustible para mantener el empuje ante la caída de `Ps30`, el medidor de presión del `HPC`. 

- **Entalpía**: (entalpía del aire extraído para sistemas neumáticos) y los flujos de enfriamiento, como `W31` (HPT) y `W23` (LPT). Estos dos últimos aumentan con el daño, asumiblemente porque el sistema de control eleva el sangrado de aire frío para proteger las palas de las turbinas frente al aumento de temperatura.

- **Señales de comando**: son velocidades demandadas por el piloto a través del `TRA`. No son respuestas del motor, son inputs de controlador; no son outputs de daño y no cambian con la degradación.

La degradación del módulo HPC se modela como una pérdida exponencial simultánea de flujo (f) y eficiencia (e): donde (d) es el deterioro inicial, y (a), (b) controla la velocidad de degradación. El motor opera ajustando el combustible y velocidades para mantener el empuje, esto no se refleja directamente en los sensores como daño medible, sino la respuesta del sistema a ese daño. Es importante saber esto porque el criterio de fallo ocurre cuando el Health Index es igual a 0, definido como el mínimo de los márgenes operativos. El margen de temperatura de escape (EGT) es casi igual al valor obtenido del módulo T50, que recordemos, es la temperatura total registrada en el LPT.

- **sensor_measure_3 (`T30`)** *Temperatura total a la salida del `HPC` (High-Pressure Turbine).
  - Aumenta con la degradación: a menor eficiencia del `HPC` hay más pérdidas por fricción, lo que se traduce como más calor.
  - Correlación con pérdida de la eficiencia. A mayor Exhaust Gas Temperature `EGT` es probable que haya perdida de eficiencia y flujo.
- **sensor_measure_4 (`T50`)** *Temperatura total de la salida del `LPT` (Low-Pressure Turbine)
  - Aumenta significativamente con el daño. Cuando el `EGT` excede su límite ocurre el fallo.
- **sensor_measure_7 (`P30`)** *Presión total a la salida del `HPC*
  - Disminuye con la pérdida de fluje/eficiencia en el `HPC`. Cuanta menor presión, el sensor muestra menor margen en el stall.
- **sensor_measure_11 (`Ps30`)** *Presión estática a la salida del `HPC`*
  - Es más sensible que `P30` debido a que no incluye componente cinética, lo que ayuda a capturar mejor la pérdida de presión.
  - La caída en `Ps30` obliga al controlador a inyectar más combustible, lo cual es clave para detectar el esfuerzo creciente en el sistema combustor hacia la salida del motor.
- **sensor_measure_12 (`phi`)** *Flujo de combustible*
  - Aumenta fuertemente cuanto mayor es la degradación del módulo.
  - Es una medida adimensional de carga de tensión sobre el motor: si `Ps30` cae, para mantener el empuje se debe incrementar el combustible para la combustión y fuerza de salida, por lo tanto, `phi`crece.
- Esto se relaciona directamente a la cantidad de daño acumulado sobre el módulo `HPC`, pues la cantidad de desgaste es mayor proporcionalmente a la cantidad de combustión; y tiene poca sensibilidad a condiciones de vuelo al depender exclusivamente de los componentes y no de la degradación atmosférica (SEA LEVEL)
- **sensor_measure_14 (`NRc`)** *Velocidad de corrección para el núcleo en vuelo*
  - Aumenta porque el `FADEC` (el control te autoridad total digital del motor) obliga la aceleración de los núcleos del módulo ??? de los combustores para compensar la pérdida de presión en `HPC`. 
  - Esta medida es más robusta que la dada por el measure_sensor_9 `Nc` (Core Speed).
- **sensor_measure_20 and sensor_measure_21 (`W31`, `W32`)** *Sangrado del aire por enfriamiento de las `HPT` y `LPT`*
  - Estos ambos valores aumentan cuando incrementa la temperatura como ajuste de supervivencia del motor para evitar sobrecalentamiento.
```

Al final, graciosamente, el mejor resultado lo dio el XGBR usando el dataset FD001_enhanced.csv que es el dataset original con feature engineering.
---

=======================<>=======================

ENGLISH LOG

Issues encountered:
- Dataset without headers. The dataset had to be loaded and headers manually imputed.
- Issues understanding the data:
  - Data without well-defined columns; it's stated what they belong to but not what type of data they are (degrees, inclination, etc.).
  - RUL (Remaining Useful Life) differs in values for each unit. It's difficult to establish a value to predict.
- Issues when training with the dataset:
  - When using all columns, the model interprets max_cycle - cycle and predicts 100% of the data. Solution: do not use max_cycle in the model.

Working on FD001:

I have made 3 changes to the original dataset (the dataset came completely clean):

1. I manually added the column names (
  unit, cycle, op_setting (1, 2, 3), sensor_measure(1, 2, 3..., 21)
)
2. I added two new columns: (max_cycle, RUL)
3. I saved the new dataset to a CSV.
4. RFR and XGBR work like a charm without treating outliers; by removing the problematic features
  I get almost 100% prediction ONLY on the training data. When validating, this prediction
  drops problematically to 78%, which is quite low.

Theory from the PDF:

```markdown
The 21 sensors come from a simulation of a commercial turbojet engine with ~90,000 lbf of thrust, using NASA's C-MAPSS simulator. It is designed to reflect real engine measurements and their evolution over time, capturing progressive damage—modeled as an exponential loss of **flow** and **efficiency** in the High-Pressure Compressor (HPC), which is the only degraded module in the FD001 dataset.

The sensors are grouped by function:

- **Total Temperatures (T)**: measure thermal energy. `T2`, `T24`, `T30`, and `T50` are part of the Exhaust Gas Temperature `(EGT)`. Among these, `T30` and `T50` (corresponding to sensors 3 and 4) provide the clearest signals sensitive to HPC degradation damage—the engine requires more fuel to maintain thrust power, which raises downstream temperatures (SEA LEVEL).

- **Pressures (P)**: `P2`, `P15`, `P30`, `Ps30` are all pressure gauges, but we highlight among these `P30` and `Ps30`, with `P30` (corresponding to sensor 7) being the *TOTAL PRESSURE AT THE HPC OUTLET* and `Ps30` (corresponding to sensor 11), our most important pressure gauge, corresponding to the *STATIC PRESSURE* at the same location.

- **Dimensionless ratios (environment)**: `epr` is our engine pressure ratio. This decreases very smoothly with damage, as does the `BPR` (Bypass Ratio). Here we are interested in `farB` (fuel-to-air ratio in the combustor) and `phi` (fuel flow / Ps30), which increase since more fuel injection is required to maintain thrust given the drop in `Ps30`, the HPC pressure gauge.

- **Enthalpy**: (enthalpy of air extracted for pneumatic systems) and cooling flows, such as `W31` (HPT) and `W23` (LPT). These last two increase with damage, presumably because the control system increases cold air bleed to protect turbine blades from rising temperature.

- **Command signals**: are speeds demanded by the pilot via `TRA`. They are not engine responses; they are controller inputs, not damage outputs, and do not change with degradation.

The degradation of the HPC module is modeled as a simultaneous exponential loss of flow (f) and efficiency (e): where (d) is the initial deterioration, and (a), (b) control the degradation rate. The engine operates by adjusting fuel and speeds to maintain thrust; this is not directly reflected in the sensors as measurable damage, but rather the system's response to that damage. It's important to know this because the failure criterion occurs when the Health Index equals 0, defined as the minimum of the operational margins. The Exhaust Gas Temperature (EGT) margin is almost equal to the value obtained from module T50, which, recall, is the total temperature recorded at the LPT.

- **sensor_measure_3 (`T30`)** *Total temperature at the `HPC` outlet (High-Pressure Turbine).
  - Increases with degradation: lower HPC efficiency leads to more friction losses, resulting in more heat.
  - Correlates with loss of efficiency. Higher Exhaust Gas Temperature `EGT` likely indicates loss of efficiency and flow.
- **sensor_measure_4 (`T50`)** *Total temperature at the `LPT` outlet (Low-Pressure Turbine)
  - Increases significantly with damage. Failure occurs when the `EGT` exceeds its limit.
- **sensor_measure_7 (`P30`)** *Total pressure at the `HPC` outlet*
  - Decreases with the loss of flow/efficiency in the `HPC`. Lower pressure shows less margin in the stall sensor.
- **sensor_measure_11 (`Ps30`)** *Static pressure at the `HPC` outlet*
  - More sensitive than `P30` because it does not include a kinetic component, helping to better capture pressure loss.
  - The drop in `Ps30` forces the controller to inject more fuel, which is key to detecting increasing stress on the combustor system toward the engine outlet.
- **sensor_measure_12 (`phi`)** *Fuel flow*
  - Increases strongly with greater module degradation.
  - It is a dimensionless measure of stress load on the engine: if `Ps30` drops, to maintain thrust, fuel must be increased for combustion and output force, therefore `phi` increases.
- This is directly related to the amount of damage accumulated on the `HPC` module, as the amount of wear is proportionally greater with the amount of combustion; and it has low sensitivity to flight conditions as it depends exclusively on components and not on atmospheric degradation (SEA LEVEL).
- **sensor_measure_14 (`NRc`)** *Corrected core speed in flight*
  - Increases because the `FADEC` (Full Authority Digital Engine Control) forces the acceleration of the combustor module's ??? cores to compensate for the pressure loss in the `HPC`.
  - This measurement is more robust than that given by measure_sensor_9 `Nc` (Core Speed).
- **sensor_measure_20 and sensor_measure_21 (`W31`, `W32`)** *Cooling air bleed for `HPT` and `LPT`*
  - Both values increase when temperature rises as a motor survival adjustment to avoid overheating.
```

In the end, amusingly, the best result was given by XGBR using the FD001_enhanced.csv dataset, which is the original dataset with feature engineering.
---